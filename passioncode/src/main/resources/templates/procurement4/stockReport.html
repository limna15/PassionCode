<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="~{layout/basic::setContent(~{::content})}">

	<th:block th:fragment="content">


<style>
  table {
    width: 100%;
    border: 1px solid #444444;
    font-size: 13px;

  }
  th, td {
    border: 1px solid #444444;
    padding: 10px;
    text-align: center;
  }
.search-box {
	position: relative;
	float: right;
}

.search-box input {
	height: 34px;
	border-radius: 20px;
	padding-left: 35px;
	border-color: #ddd;
	box-shadow: none;
}

.search-box input:focus {
	border-color: #3FBAE4;
}

.search-box i {
	color: #a0a5b1;
	position: absolute;
	font-size: 19px;
	top: 8px;
	left: 10px;
}

.pagination {
	float: right;
	margin: 0 0 5px;
}

.pagination li a {
	border: none;
	font-size: 95%;
	width: 30px;
	height: 30px;
	color: #999;
	margin: 0 2px;
	line-height: 30px;
	border-radius: 30px !important;
	text-align: center;
	padding: 0;
}

.pagination li a:hover {
	color: #666;
}

.pagination li.active a {
	background: #03A9F4;
}

.pagination li.active a:hover {
	background: #0397d6;
}

.pagination li.disabled i {
	color: #ccc;
}

.pagination li i {
	font-size: 16px;
	padding-top: 6pxrow
}

.hint-text {
	float: left;
	margin-top: 6px;
	font-size: 95%;
}

</style>
		<div class="col-md-12 stretch-card" >
			<!-- 수정 부분 시작 -->
			<div class="card">
				<div class="card-body">
					<p class="card-title" style="font-size:23px;">재고금액 현황관리</p> 
					<br>
					<form>
						<div class="row" style="margin-bottom: 5px;">
							<!-- 기간 검색 시작 -->
							<div>
								<span style="font-size:20px;">기간</span>&nbsp;&nbsp;
								<input type="date" id="startDate" style="width:140px; height:40px; border-radius:5px; border:1px solid #dcdcdc; padding-left:12px;padding-right:12px;">&nbsp;&nbsp;~&nbsp;&nbsp;
								<input type="date" id="endDate" style="width:140px; height:40px; border-radius:5px; border:1px solid #dcdcdc; padding-left:12px;padding-right:12px;">&nbsp;&nbsp;
								&nbsp;
								<div style="display:inline-block;" > 
									<button type="submit" class="btn btn-primary" style='margin-bottom:5px';>검색</button>
								</div>
		                    </div>
						</div>	
					</form>
					<br>
					<!-- 차트 들어가는 자리 -->						
					<div id="chartContainer" style="height: 370px; width: 100%;">
					
					</div>
					<script src="https://cdn.canvasjs.com/canvasjs.min.js"></script>
					<canvas id="cash-deposits-chart"></canvas>
	
					<!-- 차트 들어가는 자리 끝 -->
				</div>
			</div>
		</div>	
		
		
		
		<script src="https://code.jquery.com/jquery-3.7.0.js" integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>
		<script th:inline="javascript" type="text/javascript">
		
	 	$(document).ready(function(e) {
	  		
			
		
	 	});
	    	
      	//code와 category 값을 넣어서 option 만들기
	   	function makeOption(code,category){
	   		return `<option value=${code}>${category}</option>`;
	   	};    
		
	   	var mylabels1=[[${mylabels}]];
	   	var pricedata=[[${pricedata}]];
	   	console.log("mylabels1 이거 잙읽나??",mylabels1);
	   	
	   	var DateList=[[${DateList}]];
	   	var DateStrLisg=[[${DateStrLisg}]];
	   	var stockResultDTOs=[[${stockResultDTOs}]];
	   	
	   	let sentence = ``;
	   	for(var i=0; i<DateStrLisg.length-1;i++){
	   		sentence=sentence+makeSentence("'"+DateStrLisg[i]+" 00:00:00'",stockResultDTOs[i].stockTotalPrice);
	   	}
	   	sentence=sentence+makeLastSentence("'"+DateStrLisg[DateStrLisg.length-1]+" 00:00:00'",stockResultDTOs[DateStrLisg.length-1].stockTotalPrice);
	   	//console.log("만든 문장 보자 : ",sentence);
		
	   	let sentence2 = ``;
	   	for(var i=0; i<DateList.length-1;i++){
	   		sentence2=sentence2+makeSentence2(DateList[i],stockResultDTOs[i].stockTotalPrice);
	   	}
	   	sentence2=sentence2+makeLastSentence2(DateList[DateList.length-1],stockResultDTOs[DateStrLisg.length-1].stockTotalPrice);
	   	//console.log("만든 문장 보자2 : ",sentence2);
	   	
	   	
	   	
		function makeSentence(date,price){
			let sentence =`{ x: new Date(${date}), y: ${price} },`;
			return sentence;    				
		}
		
		function makeLastSentence(date,price){
			let sentence =`{ x: new Date(${date}), y: ${price} }`;
			return sentence;    				
		}
		
		function makeSentence2(date,price){
			let sentence =`{ x: ${date}, y: ${price} },`;
			return sentence;    				
		}
		
		function makeLastSentence2(date,price){
			let sentence =`{ x: ${date}, y: ${price} }`;
			return sentence;    				
		}
		
		
	  	let sentence3 =  makeLastSentence2("'"+DateStrLisg[3]+" 00:00:00'",stockResultDTOs[3].stockTotalPrice);
	   
	  	
	  	
	   	function mychart(){
	   		var chart = new CanvasJS.Chart("chartContainer", {
	   			animationEnabled: true,
	   			title:{
	   				text: "대분류별 재고금액"
	   			},
	   			axisX: {
	   				valueFormatString: "YYYY-MM-DD"
	   			},
	   			axisY: {
	   				title: "재고금액",
	   				suffix: " 원",
	   				minimum: -50000,
	   				maximum: 350000,
	   			},
	   			legend:{
	   				cursor: "pointer",
	   				fontSize: 16,
	   				itemclick: toggleDataSeries
	   			},
	   			toolTip:{
	   				shared: true
	   			},
	   			data: [{
	   				name: "보드",
	   				type: "spline",
	   				yValueFormatString: "###,###,### 원",
	   				showInLegend: true,
	   				dataPoints: [
	   					{ x: new Date('2017-06-01 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-02 00:00:00'), y: 10000 },
	   					{ x: new Date('2017-06-03 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-04 00:00:00'), y: 20000 },
	   					{ x: new Date('2017-06-05 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-06 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-07 00:00:00'), y: 40000 },
	   					{ x: new Date('2017-06-08 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-09 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-10 00:00:00'), y: 0 }
	   				]
	   			},
	   			{
	   				name: "철",
	   				type: "spline",
	   				yValueFormatString: "###,###,### 원",
	   				showInLegend: true,
	   				dataPoints: [
	   					{ x: new Date('2017-06-01 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-02 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-03 00:00:00'), y: 100000 },
	   					{ x: new Date('2017-06-04 00:00:00'), y: 25000 },
	   					{ x: new Date('2017-06-05 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-06 00:00:00'), y: 30000 },
	   					{ x: new Date('2017-06-07 00:00:00'), y: 20000 },
	   					{ x: new Date('2017-06-08 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-09 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-10 00:00:00'), y: 0 }
	   				]
	   			},
	   			{
	   				name: "플라스틱",
	   				type: "spline",
	   				yValueFormatString: "###,###,### 원",
	   				showInLegend: true,
	   				dataPoints: [
	   					{ x: new Date('2017-06-01 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-02 00:00:00'), y: 10000 },
	   					{ x: new Date('2017-06-03 00:00:00'), y: 200000 },
	   					{ x: new Date('2017-06-04 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-05 00:00:00'), y: 40000 },
	   					{ x: new Date('2017-06-06 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-07 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-08 00:00:00'), y: 30000 },
	   					{ x: new Date('2017-06-09 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-10 00:00:00'), y: 0 }
	   				]
	   			},
	   			{
	   				name: "목재",
	   				type: "spline",
	   				yValueFormatString: "###,###,### 원",
	   				showInLegend: true,
	   				dataPoints: [
	   					{ x: new Date('2017-06-01 00:00:00'), y: 10000 },
	   					{ x: new Date('2017-06-02 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-03 00:00:00'), y: 20000 },
	   					{ x: new Date('2017-06-04 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-05 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-06 00:00:00'), y: 300000 },
	   					{ x: new Date('2017-06-07 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-08 00:00:00'), y: 25000 },
	   					{ x: new Date('2017-06-09 00:00:00'), y: 0 },
	   					{ x: new Date('2017-06-10 00:00:00'), y: 0 }
	   				]
	   			}
	   			]
	   		});
	   		chart.render();
	   		
	   		function toggleDataSeries(e){
	   			if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
	   				e.dataSeries.visible = false;
	   			}
	   			else{
	   				e.dataSeries.visible = true;
	   			}
	   			chart.render();
	   		}
	   	}
	
		</script>	
		<script src="../../vendors/base/vendor.bundle.base.js"></script>
		<script src="../../vendors/chart.js/Chart.min.js"></script>
		<script src="../../js/off-canvas.js"></script>
		<script src="../../js/hoverable-collapse.js"></script>
		<script src="../../js/template.js"></script>
		<script src="../../js/chart.js"></script>
		<script src="../../js/dashboard.js"></script>
		<script src="../../js/dashboard2.js"></script>
		<script src="../../js/dashboard4.js"></script>
		<script src="../../js/dashboard5.js"></script>
		<script src="../../js/chart-bar-demo.js"></script>
		
		<script>
		console.log("여기 아직 sentence 살아있지?",sentence);
		mychart();
		//mychart2(sentence3);
		//mychart4();
		//mychart5();
		</script>
		
	</th:block>
</th:block>
</html>